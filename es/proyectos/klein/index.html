<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>klein — AM Arkitektura</title>

  <link rel="stylesheet" href="/assets/css/site.css">
  <link rel="icon" href="/assets/brand/icon-black.svg" type="image/svg+xml">

  <style>
    .project-head{ margin: 0 0 14px 0; }
    .project-head h1{
      margin: 0 0 6px 0;
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    .project-subtitle{
      margin: 0 0 10px 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
      text-transform: none;
    }

    .back{
      display:inline-block;
      margin: 0 0 14px 0;
      color: var(--muted);
      font-size: 13px;
      border-bottom: 1px solid transparent;
    }
    .back:hover{ border-bottom-color:#999; }

    .gallery{ margin-top: 10px; }
    .gallery img{
      border: 1px solid color-mix(in srgb, var(--rule) 75%, transparent);
      border-radius: 3px;
    }

    .project-text{
      color: var(--fg);
      opacity: .88;
      line-height: 1.55;
      max-width: 70ch;
      margin: 18px 0 10px 0;
    }
    .project-text p{ margin: 0 0 10px 0; }

    .project-meta{
      color: var(--muted);
      font-size: 13px;
      margin: 12px 0 0 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: baseline;
    }
    .project-meta .sep{ opacity:.7; }

    .footer{
      margin-top: 34px;
      padding-top: 14px;
      border-top: 1px solid var(--rule);
      color: var(--muted);
      font-size: 13px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:baseline;
    }
    .footer a{ border-bottom:1px solid transparent; }
    .footer a:hover{ border-bottom-color:#999; }
    .footer .sep{ opacity:.7; }
    .footer .legal{ margin-left:auto; display:flex; gap:10px; flex-wrap:wrap; }
    @media (max-width:720px){
      .footer{ margin-top: 28px; }
      .footer .legal{ margin-left:0; width:100%; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <a href="/es/">
          <img src="/assets/brand/logo-black.png" alt="AM Arkitektura">
          <div class="brand-name">AM.Arkitektura</div>
        </a>
      </div>

      <div>
        <div class="nav">
          <a href="/es/proyectos/">Proyectos</a>
          <a href="/es/contacto/">Contacto</a>
        </div>
        <div class="lang">ES · <a href="/eu/proiektuak/klein/" class="underline">EU</a></div>
      </div>
    </div>

    <div class="rule"></div>

    <a class="back" href="/es/proyectos/">← Proyectos</a>

    <div class="project-head">
      <h1>klein</h1>
      <div class="project-subtitle">Vivienda</div>
    </div>

    <!-- Galería primero -->
    <div id="gallery" class="gallery"></div>

    <!-- Texto después -->
    <div class="project-text">
      <p>Esta pequeña vivienda al lado del mar es un lugar para pasar el verano.</p>

      <p>En el estado original se entraba a través de un pasillo largo y oscuro que iba dando acceso a las habitaciones que tenían, cada una de ellas, una ventana hacia el mar. La idea de la reforma fue poner en el centro la cocina, el estar y el comedor como lugares principales de reunión y eliminar el pasillo. De esta forma, tenemos una solución diáfana que amplía el espacio de la casa.</p>

      <p>Los dos dormitorios quedaban a los lados. La solución de puertas correderas en los dormitorios pegadas a la fachada y con la altura hasta el techo permite que, durante el día, estas puertas estén abiertas y podamos tener, desde el espacio central de la casa, la visión del mar desde las cuatro ventanas.</p>

      <p>Además, la cocina está en el espacio central, lo que resulta muy práctico. Es también una forma de dar a este espacio la importancia que tiene en una vivienda cómoda y accesible, fortaleciendo la idea del espacio común como núcleo de la casa.</p>

      <div class="project-meta">
        <span>Año de construcción: 2014</span>
        <span class="sep">·</span>
        <span>Fotografías: Francisco Berreteaga</span>
      </div>
    </div>

    <footer class="footer">
      <a href="mailto:info@am-a.eus">info@am-a.eus</a>
      <span class="sep">·</span>
      <span>Errenteria, 2 – 20013 Donostia</span>

      <span class="legal">
        <a href="/es/legal/">Legal</a>
        <span class="sep">·</span>
        <a href="/es/privacidad/">Privacidad</a>
        <span class="sep">·</span>
        <a href="/es/cookies/">Cookies</a>
      </span>
    </footer>
  </div>

  <script>
  // Proyecto
  const PROJECT_TITLE = "klein";
  const PROJECT_SLUG  = "klein"; // /assets/img/klein/klein01.jpg

  // Galería (auto-detecta 01..99 y se detiene cuando faltan archivos)
  (function buildGalleryAuto(){
    const el = document.getElementById('gallery');
    if(!el) return;

    const MAX = 99;
    let misses = 0;
    const STOP_AFTER = 2;

    function tryLoad(i){
      if(i > MAX || misses >= STOP_AFTER) return;

      const n = String(i).padStart(2,'0');
      const url = `/assets/img/${PROJECT_SLUG}/${PROJECT_SLUG}${n}.jpg`;

      const probe = new Image();
      probe.onload = function(){
        misses = 0;

        const img = document.createElement('img');
        img.loading = (i <= 2) ? 'eager' : 'lazy';
        img.alt = PROJECT_TITLE + " " + n;
        img.src = url;
        el.appendChild(img);

        tryLoad(i + 1);
      };
      probe.onerror = function(){
        misses += 1;
        tryLoad(i + 1);
      };
      probe.src = url;
    }

    tryLoad(1);
  })();

  // Wordmark auto-fit (AM.Arkitektura)
  (function fitWordmark() {
    function run(){
      const link = document.querySelector('.brand a');
      if (!link) return;
      const logo = link.querySelector('img');
      const word = link.querySelector('.brand-name');
      if (!logo || !word) return;

      const logoW = logo.getBoundingClientRect().width;
      if (!logoW || logoW < 10) return;

      word.style.width = logoW + 'px';

      const baseSize = parseFloat(getComputedStyle(word).fontSize);
      word.style.letterSpacing = '0px';
      word.style.fontSize = baseSize + 'px';

      const text = word.textContent || '';
      const gaps = Math.max(1, text.length - 1);

      const probe = word.cloneNode(true);
      probe.style.position = 'absolute';
      probe.style.visibility = 'hidden';
      probe.style.width = 'auto';
      probe.style.letterSpacing = '0px';
      probe.style.fontSize = baseSize + 'px';
      document.body.appendChild(probe);
      const textW = probe.getBoundingClientRect().width;
      document.body.removeChild(probe);

      if (textW < logoW) {
        const extra = logoW - textW;
        word.style.letterSpacing = (extra / gaps).toFixed(2) + 'px';
        return;
      }

      if (textW > logoW) {
        const scale = logoW / textW;
        word.style.fontSize = Math.max(11, baseSize * scale).toFixed(2) + 'px';
        word.style.letterSpacing = '0px';
      }
    }
    window.addEventListener('load', run);
    window.addEventListener('resize', run);
  })();
  </script>
</body>
</html>