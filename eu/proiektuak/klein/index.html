<!doctype html>
<html lang="eu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>klein — AM Arkitektura</title>

  <link rel="stylesheet" href="/assets/css/site.css">
  <link rel="icon" href="/assets/brand/icon-black.svg" type="image/svg+xml">

  <style>
    .project-head{ margin: 0 0 14px 0; }
    .project-head h1{
      margin: 0 0 6px 0;
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.01em;
    }
    .project-subtitle{
      margin: 0 0 10px 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.45;
      text-transform: none;
    }

    .back{
      display:inline-block;
      margin: 0 0 14px 0;
      color: var(--muted);
      font-size: 13px;
      border-bottom: 1px solid transparent;
    }
    .back:hover{ border-bottom-color:#999; }

    .gallery{ margin-top: 10px; }
    .gallery img{
      border: 1px solid color-mix(in srgb, var(--rule) 75%, transparent);
      border-radius: 3px;
    }

    .project-text{
      color: var(--fg);
      opacity: .88;
      line-height: 1.55;
      max-width: 70ch;
      margin: 18px 0 10px 0;
    }
    .project-text p{ margin: 0 0 10px 0; }

    .project-meta{
      color: var(--muted);
      font-size: 13px;
      margin: 12px 0 0 0;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: baseline;
    }
    .project-meta .sep{ opacity:.7; }

    .footer{
      margin-top: 34px;
      padding-top: 14px;
      border-top: 1px solid var(--rule);
      color: var(--muted);
      font-size: 13px;
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:baseline;
    }
    .footer a{ border-bottom:1px solid transparent; }
    .footer a:hover{ border-bottom-color:#999; }
    .footer .sep{ opacity:.7; }
    .footer .legal{ margin-left:auto; display:flex; gap:10px; flex-wrap:wrap; }
    @media (max-width:720px){
      .footer{ margin-top: 28px; }
      .footer .legal{ margin-left:0; width:100%; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <a href="/eu/">
          <img src="/assets/brand/logo-black.png" alt="AM Arkitektura">
          <div class="brand-name">AM.Arkitektura</div>
        </a>
      </div>

      <div>
        <div class="nav">
          <a href="/eu/proiektuak/">Proiektuak</a>
          <a href="/eu/kontaktua/">Kontaktua</a>
        </div>
        <div class="lang">EU · <a href="/es/proyectos/klein/" class="underline">ES</a></div>
      </div>
    </div>

    <div class="rule"></div>

    <a class="back" href="/eu/proiektuak/">← Proiektuak</a>

    <div class="project-head">
      <h1>klein</h1>
      <div class="project-subtitle">Etxebizitza</div>
    </div>

    <!-- Galería primero -->
    <div id="gallery" class="gallery"></div>

    <!-- Texto después -->
    <div class="project-text">
      <p>Itsasoaren ondoan dagoen etxebizitza txiki hau uda pasatzeko leku bat da.</p>

      <p>Jatorrizko egoeran, korridore luze ilun batetik sartzen zen, bakoitzak itsasoranzko leiho bat zuen geletara sartzeko. Eraberritzearen asmoa sukaldea, egongela eta jangela elkargune nagusitzat hartzea eta korridorea kentzea izan zen. Horrela, etxearen espazioa zabaltzen duen irtenbide argia daukagu.</p>

      <p>Bi logelak alboetan daude. Fatxadari itsatsitako logeletan ate lerragarriak jarriz, sabairainoko altuera dutela, egunez ate horiek irekita egongo dira, eta, etxearen erdiko espaziotik, itsasoa lau leihoetatik ikusteko aukera izango dugu.</p>

      <p>Gainera, sukaldea erdigunean dago, eta hori oso praktikoa da. Era berean, espazio horri etxebizitza eroso eta irisgarri batean duen garrantzia emateko modu bat da, espazio komunaren ideia indartuz etxearen nukleo gisa.</p>

      <div class="project-meta">
        <span>Eraikuntza urtea: 2014</span>
        <span class="sep">·</span>
        <span>Argazkiak: Francisco Berreteaga</span>
      </div>
    </div>

    <footer class="footer">
      <a href="mailto:info@am-a.eus">info@am-a.eus</a>
      <span class="sep">·</span>
      <span>Errenteria, 2 – 20013 Donostia</span>

      <span class="legal">
        <a href="/eu/legala/">Legala</a>
        <span class="sep">·</span>
        <a href="/eu/pribatutasuna/">Pribatutasuna</a>
        <span class="sep">·</span>
        <a href="/eu/cookieak/">Cookieak</a>
      </span>
    </footer>
  </div>

  <script>
  // Proiektua
  const PROJECT_TITLE = "klein";
  const PROJECT_SLUG  = "klein"; // /assets/img/klein/klein01.jpg

  // Galería (auto-detecta 01..99 y se detiene cuando faltan archivos)
  (function buildGalleryAuto(){
    const el = document.getElementById('gallery');
    if(!el) return;

    const MAX = 99;
    let misses = 0;
    const STOP_AFTER = 2;

    function tryLoad(i){
      if(i > MAX || misses >= STOP_AFTER) return;

      const n = String(i).padStart(2,'0');
      const url = `/assets/img/${PROJECT_SLUG}/${PROJECT_SLUG}${n}.jpg`;

      const probe = new Image();
      probe.onload = function(){
        misses = 0;

        const img = document.createElement('img');
        img.loading = (i <= 2) ? 'eager' : 'lazy';
        img.alt = PROJECT_TITLE + " " + n;
        img.src = url;
        el.appendChild(img);

        tryLoad(i + 1);
      };
      probe.onerror = function(){
        misses += 1;
        tryLoad(i + 1);
      };
      probe.src = url;
    }

    tryLoad(1);
  })();

  // Wordmark auto-fit (AM.Arkitektura)
  (function fitWordmark() {
    function run(){
      const link = document.querySelector('.brand a');
      if (!link) return;
      const logo = link.querySelector('img');
      const word = link.querySelector('.brand-name');
      if (!logo || !word) return;

      const logoW = logo.getBoundingClientRect().width;
      if (!logoW || logoW < 10) return;

      word.style.width = logoW + 'px';

      const baseSize = parseFloat(getComputedStyle(word).fontSize);
      word.style.letterSpacing = '0px';
      word.style.fontSize = baseSize + 'px';

      const text = word.textContent || '';
      const gaps = Math.max(1, text.length - 1);

      const probe = word.cloneNode(true);
      probe.style.position = 'absolute';
      probe.style.visibility = 'hidden';
      probe.style.width = 'auto';
      probe.style.letterSpacing = '0px';
      probe.style.fontSize = baseSize + 'px';
      document.body.appendChild(probe);
      const textW = probe.getBoundingClientRect().width;
      document.body.removeChild(probe);

      if (textW < logoW) {
        const extra = logoW - textW;
        word.style.letterSpacing = (extra / gaps).toFixed(2) + 'px';
        return;
      }

      if (textW > logoW) {
        const scale = logoW / textW;
        word.style.fontSize = Math.max(11, baseSize * scale).toFixed(2) + 'px';
        word.style.letterSpacing = '0px';
      }
    }
    window.addEventListener('load', run);
    window.addEventListener('resize', run);
  })();
  </script>
</body>
</html>